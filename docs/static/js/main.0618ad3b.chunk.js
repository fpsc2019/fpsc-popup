(window["webpackJsonpfpsc-popup"]=window["webpackJsonpfpsc-popup"]||[]).push([[0],{281:function(t,e,a){t.exports=a.p+"static/media/logo.af3a3473.png"},294:function(t,e,a){t.exports=a(693)},299:function(t,e,a){},616:function(t,e,a){},693:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),o=a(4),s=a.n(o),c=(a(299),a(300),a(13)),l=(a(302),a(149)),r=(a(304),a(190)),u=(a(306),a(150)),d=(a(308),a(67)),m=(a(310),a(32)),p=(a(695),a(94)),h=(a(696),a(291)),y=(a(318),a(293)),f=(a(320),a(289)),g=(a(322),a(33)),v=(a(152),a(24)),w=(a(325),a(25)),b=a(78),A=(a(194),a(105)),E=(a(328),a(292)),I=(a(330),a(290)),S=a(31),P=a(62),x=a(92),T=a(91),C=a(93),_=(a(332),a(107)),F=(a(334),a(284)),O=(a(336),a(48)),R=(a(338),a(108)),k=a(145),M=(a(546),a(193),a(65)),H=a(146),Y=a.n(H),B="http://127.0.0.1:2345/",D=function(){function t(){Object(S.a)(this,t)}return Object(P.a)(t,[{key:"post",value:function(t,e,a,n){var i={base:{timestamp:1234567,sign:"67ff54447b89f06fe4408b89902e585167abad291ec41118167017925e24e320"},biz:e,page:a};Y.a.post(B+t,i).then((function(t){var e=t.data;n&&n(e)})).catch((function(t){}))}},{key:"postSeroRpc",value:function(t,e,a){var n={id:0,jsonrpc:"2.0",method:t,params:e};Y.a.post(B+"rpc",n).then((function(t){var e=t.data;a&&a(e)})).catch((function(t){console.log("req error: ",t)}))}},{key:"postPullupRpc",value:function(t,e,a){var n={id:0,method:t,params:e};Y.a.post(B+"pullup_rpc",n).then((function(t){var e=t.data;a&&a(e)})).catch((function(t){}))}}]),t}(),j=a(56),N=a.n(j),K="",L=(new D,M.a.Option),W=window.location.host,U={name:"HAPY",contractAddress:"54uf2UU9Zf1mgyR25WFpogyMfkgQRJZJKzY6Rfy3nygmjSoBXFE6R8y2RyCeCc1T6aEmaKK8W3Gu6SY8KdTq54x9",github:"https://github.com/fpsc2019/fpsc-popup",author:"fpsc2019",url:W+"/fpsc-popup/",logo:W+"/fpsc-popup/logo.png"},z=function(t){function e(t){var a;return Object(S.a)(this,e),(a=Object(x.a)(this,Object(T.a)(e).call(this,t))).handleOk=function(t){var e=Object(b.a)(a);if(""!==K){var n=e.state.accounts,i=!0,o=!1,s=void 0;try{for(var c,l=n[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var r=c.value;r.MainPKr===K&&e.props.selectAccount(r)}}catch(u){o=!0,s=u}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}}e.props.hiddenAccount()},a.handleCancel=function(t){Object(b.a)(a).props.hiddenAccount()},a.onChange=function(t){K=t},a.state={accountOptions:[],accounts:[]},a}return Object(C.a)(e,t),Object(P.a)(e,[{key:"componentDidMount",value:function(){var t=this;N.a.init(U,(function(e){e&&t.getAccounts()}))}},{key:"formatPK",value:function(t){return t.slice(0,10)+"...."+t.slice(-10)}},{key:"getAccounts",value:function(){var t=this;N.a.getAccountList((function(e){if(e){var a=e,n=0,o=[],s=!0,c=!1,l=void 0;try{for(var r,u=a[Symbol.iterator]();!(s=(r=u.next()).done);s=!0){var d=r.value,m=d.Name;n++,m||(m="Account"+n),o.push(i.a.createElement(L,{value:d.MainPKr,key:n},m+" "+t.formatPK(d.PK)))}}catch(p){c=!0,l=p}finally{try{s||null==u.return||u.return()}finally{if(c)throw l}}t.setState({accountOptions:o,accounts:a})}}))}},{key:"render",value:function(){var t=this;return i.a.createElement(A.a,{title:"Select Account",visible:this.props.visible,onOk:this.handleOk,onCancel:this.handleCancel},i.a.createElement(M.a,{showSearch:!0,style:{width:"98%"},placeholder:"Select an account",onChange:function(e){t.onChange(e)}},this.state.accountOptions))}}]),e}(n.Component),V=a(10),q=a.n(V),J=a(277),Z=a.n(J),G=(a(616),a(278)),X=a.n(G),Q=a(279),$=a.n(Q),tt=a(191),et=a(95),at=function t(){Object(S.a)(this,t),this.zh_CN={project:{title:"\u5408\u7ea6\u8be6\u60c5",contractAddress:"\u5408\u7ea6\u5730\u5740",balanceSero:"\u5f53\u524d\u4f59\u989d (HAPY)"},account:{title:{utxo:"\u94b1\u5305\u8d26\u6237",contract:"\u5408\u7ea6\u8d26\u6237",swith:"\u5207\u6362\u8d26\u6237",balanceSero:"\u4f59\u989d (HAPY)",estimatedTotal:"\u9884\u8ba1\u603b\u6536\u76ca (HAPY)",dayIncome:"\u5f53\u5929\u8fd4\u8fd8\u6bd4\u4f8b",staticIncome:"\u5f53\u5929\u9759\u6001\u8fd4\u8fd8 (HAPY)",withdraw:"\u53ef\u63d0\u73b0\u91d1\u989d (HAPY)",detail:"\u8be6\u60c5",id:"\u7f16\u53f7",referId:"\u63a8\u8350\u4eba\u7f16\u53f7",areaId:"\u5927\u533a\u7f16\u53f7",totalInvest:"\u672c\u91d1",profitLevel:"\u6536\u76ca\u500d\u6570",latestTime:"\u6700\u65b0\u6536\u76ca\u65f6\u95f4",totalReturn:"\u5f53\u524d\u8fd4\u8fd8\u603b\u6570(HAPY)",totalReturnDay:"\u5f53\u5929\u8fd4\u8fd8\u603b\u6570(HAPY)",recommend:"\u4e0b\u7ea7\u4eba\u6570",staticIncomeTips:"\u4eca\u5929\u7684\u9759\u6001\u6536\u76ca\u5df2\u7ecf\u652f\u4ed8\u5230\u53ef\u63d0\u73b0\u8d26\u6237.",staticIncomeTips2:"\u89e6\u53d1\u6536\u76ca\u5230\u63d0\u73b0\u8d26\u6237.",investDetail:"\u6295\u8d44\u8be6\u60c5",myIncome:"\u6211\u7684\u4e1a\u7ee9",areaTotal:"\u5927\u533a\u4e1a\u7ee9",areaOtherTotal:"\u4e1a\u7ee9\u603b\u548c(\u4e0d\u542b\u5927\u533a)",staticReward:"\u9759\u6001\u8fd4\u8fd8",recommendReward:"\u63a8\u8350\u5956",nobilityReward:"\u661f\u7ea7\u5956",vipReward:"VIP\u5956",viewCode:"\u67e5\u770b\u667a\u80fd\u5408\u7ea6"},button:{deposit:"\u5145\u503c",invest:"\u6295\u8d44",trigger:"\u89e6\u53d1\u6536\u76ca",withdraw:"\u63d0\u73b0",close:"\u5173\u95ed",copy:"\u62f7\u8d1d"},modal:{deposit:{title:"\u5145\u503c",copy:"\u62f7\u8d1d"},buyAsnow:{amount:"\u6570\u91cf (HAPY)",amountPlace:"\u8f93\u5165\u6570\u91cf",rate:"\u5151\u6362\u6bd4\u4f8b",exchange:"\u5151\u6362",password:"\u8d26\u6237\u5bc6\u7801",passwordPlace:"\u8f93\u5165\u8d26\u6237\u5bc6\u7801"},invest:{title:"\u6295\u8d44",referId:"\u63a8\u8350\u4eba\u7f16\u53f7",amount:"\u6295\u8d44\u91d1\u989d",amountTips:"100 HAPY\u8d77\u6295",availableHAPY:"\u53ef\u7528\u7684\u4f59\u989d",availableExchange:"\u6700\u591a\u53ef\u62b5\u7528",total:"\u5e94\u4ed8\u5408\u8ba1",estimate:"\u9884\u8ba1\u6536\u76ca",password:"\u8d26\u6237\u5bc6\u7801",passwordPlace:"\u8f93\u5165\u8d26\u6237\u5bc6\u7801"},trigger:{password:"\u8d26\u6237\u5bc6\u7801",passwordPlace:"\u8f93\u5165\u8d26\u6237\u5bc6\u7801"},withdraw:{password:"\u8d26\u6237\u5bc6\u7801",passwordPlace:"\u8f93\u5165\u8d26\u6237\u5bc6\u7801",tips:"* \u63d0\u73b0\u91d1\u989d\u5c06\u76f4\u63a5\u63d0\u5230UTXO\u8d26\u6237."}}},toast:{lessAmount:"HAPY\u4f59\u989d\u4e0d\u8db3\u4ee5\u652f\u4ed8\u672c\u6b21\u4ea4\u6613.",minInvest:"\u6700\u5c0f\u6295\u8d44\u91d1\u989d\u4e3a 100 HAPY.",tx:"\u4ea4\u6613\u63d0\u4ea4\u6210\u529f, \u7b49\u5f85\u533a\u5757\u6253\u5305\u4ea4\u6613, \u4ea4\u6613\u54c8\u5e0c: ",copySuccess:"\u62f7\u8d1d\u6210\u529f! "}},this.en_US={project:{title:"Contract Info",contractAddress:"Contract Address",balanceSero:"Current Balance (HAPY)"},account:{title:{utxo:"Wallet Account",contract:"Contract Account",swith:"Switch Account",balanceSero:"Balance (HAPY)",estimatedTotal:"Estimated Total Income (HAPY)",dayIncome:"Return rate on the day",staticIncome:"Static Return (HAPY)",withdraw:"Withdrawal Account (HAPY)",detail:"Detail",id:"ID",referId:"Refer ID",areaId:"Large Area ID",totalInvest:"Total Invest",profitLevel:"Profit Level",latestTime:"Latest Share Time",totalReturn:"Total Return",totalReturnDay:"Total return on the day (HAPY)",recommend:"Recommend Number",staticIncomeTips:"Your income have been paid to the withdrawal account.",staticIncomeTips2:"Trigger to withdrawal account. ",investDetail:"Invest Info",myIncome:"My performance",areaTotal:"Regional performance",areaOtherTotal:"Total performance (excluding the large region)",staticReward:"Static",recommendReward:"Recommend",nobilityReward:"Nobility",vipReward:"VIP",viewCode:"View Smart Contract"},button:{deposit:"Deposit HAPY",invest:"Invest",trigger:"Trigger Income",withdraw:"Withdraw",close:"Close",copy:"Copy"},modal:{deposit:{title:"Deposit",copy:"COPY"},invest:{title:"Invest",referId:"Refer ID",amount:"Invet Amount",amountTips:"At least invest 100 HAPY",availableHAPY:"Available Blance",availableExchange:"Max Exchange",total:"Total",estimate:"Estimated Return",password:"Password"},trigger:{password:"Password"},withdraw:{password:"Password",tips:"* This is the withdrawal of the amount to the UTXO account."}}},toast:{lessAmount:"The balance is not enough to pay for this transaction.",minInvest:"Invest Amount at least 100 HAPY.",tx:"The transaction was submitted successfully, waiting for the block to be packaged, and the transaction hash: ",copySuccess:"Copy to clipboard successfully! "}}},nt=a(280),it=a.n(nt),ot=function t(){Object(S.a)(this,t),this.address="54uf2UU9Zf1mgyR25WFpogyMfkgQRJZJKzY6Rfy3nygmjSoBXFE6R8y2RyCeCc1T6aEmaKK8W3Gu6SY8KdTq54x9",this.abi=[{constant:!0,inputs:[],name:"preTotalShare",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalShare",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"refereeCode",type:"string"}],name:"invest",outputs:[{name:"",type:"bool"}],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"detailsOfIncome",outputs:[{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"triggerStaticProfit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"tokenName",type:"string"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"preRewardAmount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"addr",type:"address"}],name:"setMarketAddr",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"details",outputs:[{name:"",type:"string"},{name:"",type:"string"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint8"},{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"withdrawBalance",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"addr",type:"address"}],name:"registerNode",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"findAddrById",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"INVEST_CURRENCY",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"calcuStaticProfit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"id",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"code",type:"string"}],name:"codeExist",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"balanceOfHAPY",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastUpdated",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_triggerStaticNum",type:"uint256"}],name:"setTriggerStaticNum",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_marketAddr",type:"address"},{name:"_codeServiceAddr",type:"address"}],payable:!0,stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}]},st=a(281),ct=a.n(st),lt=new ot,rt=new at,ut=R.a.Header,dt=R.a.Content,mt=R.a.Footer,pt=lt.address,ht=lt.abi,yt=Z.a.callContract(ht,pt),ft=new q.a(10).pow(18),gt=O.a.Countdown,vt={name:"HAPY",contractAddress:"54uf2UU9Zf1mgyR25WFpogyMfkgQRJZJKzY6Rfy3nygmjSoBXFE6R8y2RyCeCc1T6aEmaKK8W3Gu6SY8KdTq54x9",github:"https://github.com/fpsc2019/fpsc-popup",author:"HAPY",url:document.location.href,logo:document.location.protocol+"//"+document.location.host+"/fpsc-popup/logo.png"},wt=function(t,e,a){F.a[t]({message:e,description:i.a.createElement("p",{style:{wordBreak:"normal",whiteSpace:"pre-wrap",wordWrap:"break-word"}},a),duration:null})},bt=_.a.create({name:"form_in_modal2"})(function(t){function e(){var t,a;Object(S.a)(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(x.a)(this,(t=Object(T.a)(e)).call.apply(t,[this].concat(i)))).state={confirmLoading:!1,estimateReturn:0,estimateLevel:0,amount:0,total:0},a}return Object(C.a)(e,t),Object(P.a)(e,[{key:"staticTotal",value:function(){var t=this;setTimeout((function(){var e=new q.a(t.state.amount),a=e.plus(t.props.totalAmount),n=0;parseFloat(e)<100||(parseFloat(a)>=100&&parseFloat(a)<12500?n=3:parseFloat(a)>=12500&&parseFloat(a)<25e3?n=4:parseFloat(a)>=25e3&&(n=5)),t.setState({total:e.toFixed(6),estimateLevel:n})}),10)}},{key:"render",value:function(){var t=this,e=this.props,a=e.visible,n=e.sero,o=e.onCancel,s=e.onCreate,c=e.form,l=e.referId,r=c.getFieldDecorator,u=c.setFieldsValue;setTimeout((function(){l&&0!==l&&u({ReferId:l})}),100);var d=this;return i.a.createElement(A.a,{visible:a,title:rt[d.props.lang].account.modal.invest.title,onCancel:o,onOk:function(){t.setState({confirmLoading:!0}),setTimeout((function(){s((function(t){d.setState({confirmLoading:t})}))}),10)},confirmLoading:this.state.confirmLoading},i.a.createElement(_.a,{layout:"vertical"},i.a.createElement(_.a.Item,{label:rt[d.props.lang].account.modal.invest.referId},r("ReferId",{rules:[{required:!0,message:"Please Input Refer Id"}]})(i.a.createElement(I.a,{style:{width:"60%"},disabled:!(!l||0===l),placeholder:l||"",autoComplete:"off"}))),i.a.createElement(_.a.Item,{label:"".concat(rt[d.props.lang].account.modal.invest.amount," (Available Balance: ").concat(n," HAPY)")},r("AmountSero",{rules:[{required:!0,message:"Please Input Amount! "}]})(i.a.createElement(E.a,{min:0,precision:6,max:parseFloat(n),step:100,style:{width:"60%"},onChange:function(t){d.setState({amount:t}),d.staticTotal()},allowClear:!0,placeholder:"0.000000",autoComplete:"off"})),i.a.createElement("br",null),"HAPY (",rt[d.props.lang].account.modal.invest.amountTips,")"),i.a.createElement("p",null,rt[d.props.lang].account.modal.invest.estimate,": ",i.a.createElement("span",{style:{color:"#1DA57A"}},d.state.amount)," (HAPY) x ",i.a.createElement("span",{style:{color:"#1DA57A"}},d.state.estimateLevel," "),"(Times) = ",i.a.createElement("strong",{style:{color:"rgb(216, 0, 38)"}},new q.a(d.state.amount).multipliedBy(d.state.estimateLevel).toFixed(6)," "),"HAPY"),i.a.createElement("p",null,rt[d.props.lang].account.modal.invest.total," : ",i.a.createElement("strong",{style:{color:"rgb(216, 0, 38)"}},this.state.total)," HAPY")))}}]),e}(i.a.Component)),At=function(t){function e(t){var a;return Object(S.a)(this,e),(a=Object(x.a)(this,Object(T.a)(e).call(this,t))).selectAccount=function(t){a.setState({currentAccount:t,showAccountSelect:!1,loading:!1}),localStorage.setItem("accountPk",t.PK),window.location.reload()},a.hiddenAccount=function(){a.setState({showAccountSelect:!1})},a.onChange=function(t){a.setState({loading:!t})},a.handleCancel=function(){a.setState({showDeposit:!1})},a.handleInvestCancel=function(){a.setState({showInvest:!1})},a.handleInvestCreate=function(t){var e=Object(b.a)(a),n=a.formRef2.props.form;n.validateFields((function(i,o){if(i)t&&t(!1);else{var s=n.getFieldValue("AmountSero"),c=n.getFieldValue("ReferId"),l=n.getFieldValue("Password");if(e.state.ct_details.referId&&(c=e.state.ct_details.referId),new q.a(s).comparedTo(new q.a(a.state.balanceSero))>0)t&&t(!1),w.a.warn(rt[e.state.lang].toast.lessAmount);else if(parseFloat(s)<100)t&&t(!1),w.a.warn(rt[e.state.lang].toast.minInvest);else try{a.executeMethod("invest",[c],new q.a(s).multipliedBy(ft).toString(16),"HAPY",l,(function(a){a&&(n.resetFields(),e.setState({showInvest:!1}),setTimeout((function(){wt("success","Successful","".concat(rt[e.state.lang].toast.tx).concat(a))}),3e3)),t&&t(!1)}))}catch(i){i?w.a.error(i.message):w.a.error("request HAPY Node error:["+i.message+"]"),t&&t(!1)}}}))},a.calcuPrincipalProfit=function(t,e){if(t){var n="0x"+new q.a(t).multipliedBy(ft).toString(16);a.callMethod("calcuPrincipalProfit",[n],(function(t){e&&e(t)}))}},a.saveInvestFormRef=function(t){a.formRef2=t},a.state={loading:!0,showAccountSelect:!1,showDeposit:!1,showInvest:!1,showShareProfit:!1,showWithdraw:!1,modal1Visible:!1,currentAccount:{},balanceSero:0,ct_id:0,ct_details:{},lang:"zh_CN"},a}return Object(C.a)(e,t),Object(P.a)(e,[{key:"componentWillMount",value:function(){var t=localStorage.getItem("lang");t||(t="zh_CN",localStorage.setItem("lang","zh_CN")),this.setState({lang:t})}},{key:"componentDidMount",value:function(){var t=this;N.a.init(vt,(function(e){console.log("res:::",e),e&&(t.showSelectAccount(),t.state.showAccountSelect||setTimeout((function(){t.getDetail(),t.getContractSeroBalance()}),3e3),setInterval((function(){t.getDetail(),t.getContractSeroBalance(),t.state.currentAccount.PK&&t.getAccount(t.state.currentAccount.PK)}),6e4))}))}},{key:"showSelectAccount",value:function(){if(!this.state.currentAccount.PK){var t=localStorage.getItem("accountPk");t?(this.getAccount(t),this.setState({loading:!1})):this.setState({showAccountSelect:!0})}}},{key:"showDeposit",value:function(){this.setState({showDeposit:!0});var t=document.getElementById("qrImg");$.a.toCanvas(t,this.state.currentAccount.MainPKr,(function(t){t&&console.error(t),console.log("success!")}))}},{key:"getContractSeroBalance",value:function(){var t=this;t.callMethod("balanceOfHAPY",[],(function(e){e&&t.setState({ct_balanceOfSero:new q.a(e,10).dividedBy(ft).toFixed(6)})}))}},{key:"getAccount",value:function(t){var e=this;N.a.getAccountDetail(t,(function(a){var n=0;a.Balance.forEach((function(t,e){"HAPY"===e&&(n=new q.a(t).dividedBy(ft).toFixed(6))}));var i=new it.a(t,200).toString();a.avatar="data:image/png;base64,"+i,e.setState({currentAccount:a,balanceSero:n})}))}},{key:"getDetail",value:function(){var t=this;t.callMethod("details",[],(function(e){var a={referId:"",largeAreaId:"",largeAreaTotal:new q.a("0").dividedBy(ft).toFixed(6),amount:new q.a("0").dividedBy(ft).toFixed(6),returnAmount:new q.a("0").dividedBy(ft).toFixed(6),achievement:new q.a("0").dividedBy(ft).toFixed(6),recommendNum:parseInt(new q.a("0").toString(10)),profitLevel:parseInt(new q.a("0").toString(10)),value:new q.a("0").dividedBy(ft).toFixed(6),star:parseInt(new q.a("0").toString(10)),isKing:!1};if("0x0"!==e&&e){var n=e;a={referId:"JFVVW2ITNSJHF"==n[0]?"":n[0],largeAreaId:"JFVVW2ITNSJHF"==n[1]?"":n[1],largeAreaTotal:new q.a(n[2]).dividedBy(ft).toFixed(6),amount:new q.a(n[3]).dividedBy(ft).toFixed(6),returnAmount:new q.a(n[4]).dividedBy(ft).toFixed(6),achievement:new q.a(n[5]).dividedBy(ft).toFixed(6),recommendNum:parseInt(new q.a(n[6]).toString(10)),profitLevel:parseInt(new q.a(n[7]).toString(10)),value:new q.a(n[8]).dividedBy(ft).toFixed(6),star:parseInt(new q.a(n[9]).toString(10)),isKing:n[10]}}t.callMethod("id",[],(function(e){a.id="JFVVW2ITNSJHF"==e?"":e,t.callMethod("detailsOfIncome",[],(function(e){a.detailsOfIncome=e,t.callMethod("calcuStaticProfit",[],(function(e){"0x"===e&&(e="0"),a.dayProfit=new q.a(e).dividedBy(ft).toFixed(6),t.setState({ct_details:a})}))}))}))}))}},{key:"callMethod",value:function(t,e,a){var n=yt.packData(t,e),i={from:this.state.currentAccount.MainPKr,to:pt,data:n};N.a.call(i,(function(e,n){if(n)console.log("error::",n);else{var i=yt.unPackData(t,e);a(i)}}))}},{key:"executeMethod",value:function(t,e,a,n,i,o){var s=yt.packData(t,e),c={from:this.state.currentAccount.PK,to:pt,value:"0x"+a,data:s,gas_price:"0x"+new q.a("1000000000").toString(16),cy:n},l={from:this.state.currentAccount.MainPKr,to:pt,value:"0x"+a,data:s,gas_price:"0x"+new q.a("1000000000").toString(16),cy:n};N.a.estimateGas(l,(function(t,e){e?w.a.error(e):(c.gas=t,N.a.executeContract(c,(function(t){o(t)})))}))}},{key:"shareProfit",value:function(){var t=this;try{this.executeMethod("triggerStaticProfit",[],"0","HAPY","",(function(e){e?wt("success","Successful","".concat(rt[t.state.lang].toast.tx).concat(e)):e.error?w.a.error(e.error.message):w.a.error("request HAPY Node error:["+e+"]")}))}catch(e){e?w.a.error(e.message):w.a.error("request HAPY Node error:["+e.message+"]")}}},{key:"withdraw",value:function(){var t=this;try{this.executeMethod("withdrawBalance",[],"0","HAPY","",(function(e){e?wt("success","Successful","".concat(rt[t.state.lang].toast.tx).concat(e)):e.error?w.a.error(e.error.message):w.a.error("request HAPY Node error:["+e+"]")}))}catch(e){e?w.a.error(e.message):w.a.error("request HAPY Node error:["+e.message+"]")}}},{key:"render",value:function(){var t=this,e=this.state,a=e.loading,n=e.showAccountSelect,o=e.currentAccount,s=o.PK,c=this.state.ct_details.detailsOfIncome?new q.a(this.state.ct_details.detailsOfIncome[0]).dividedBy(ft).toFixed(2):0,l=this.state.ct_details.detailsOfIncome?new q.a(this.state.ct_details.detailsOfIncome[1]).dividedBy(ft).toFixed(2):0,b=this.state.ct_details.detailsOfIncome?new q.a(this.state.ct_details.detailsOfIncome[2]).dividedBy(ft).toFixed(2):0,E=this.state.ct_details.detailsOfIncome?new q.a(this.state.ct_details.detailsOfIncome[3]).dividedBy(ft).toFixed(2):0,I=this.state.ct_details.detailsOfIncome?this.state.ct_details.detailsOfIncome[5]:0,S=[{x:rt[this.state.lang].account.title.staticReward,y:parseFloat(c)},{x:rt[this.state.lang].account.title.recommendReward,y:parseFloat(l)},{x:rt[this.state.lang].account.title.nobilityReward,y:parseFloat(b)},{x:rt[this.state.lang].account.title.vipReward,y:parseFloat(E)}],P=parseFloat(c)>0||parseFloat(l)>0||parseFloat(b)>0||parseFloat(E)>0,x=function(){var t=new Date;t.setTime(t.getTime()+864e5);var e=t.getUTCFullYear(),a=t.getUTCMonth(),n=t.getUTCDate();t=new Date(e,a,n,0,0,0);var i=(new Date).getTimezoneOffset()/60;return t.getTime()+60*-i*60*1e3}(),T=this.state.ct_balanceOfSero?new q.a(this.state.ct_balanceOfSero).dividedBy(30).toFixed(6):"0",C=0;if(console.log("this.state.ct_details.returnAmount:",this.state.ct_details.returnAmount),this.state.ct_details.returnAmount&&parseFloat(this.state.ct_details.returnAmount)>0){var _=parseFloat(this.state.ct_details.returnAmount),F=new q.a(this.state.ct_details.amount).multipliedBy(this.state.ct_details.profitLevel).toString(10);C=(100*_/parseFloat(F)).toFixed(2)}var R=new Date(1e3*I).getUTCDate()===parseInt((new Date).getUTCDate());return i.a.createElement("div",{className:"App",style:{marginTop:"80px"}},i.a.createElement(dt,{style:{padding:"0 8px"}},i.a.createElement("div",{style:{background:"#fff",padding:5,minHeight:document.body.clientHeight}},i.a.createElement(p.a,{itemLayout:"vertical",size:"large",rowKey:"1"},i.a.createElement(p.a.Item,null,i.a.createElement(u.a,{loading:a,avatar:!0},i.a.createElement(g.a,{title:i.a.createElement("h1",null,rt[this.state.lang].account.title.utxo," ",i.a.createElement(v.a,{size:"small",onClick:function(){t.setState({showAccountSelect:!0})}},rt[this.state.lang].account.title.swith))}),i.a.createElement(d.a,null,i.a.createElement(m.a,{span:24},i.a.createElement(p.a.Item.Meta,{avatar:i.a.createElement("p",null,i.a.createElement(f.a,{shape:"square",size:64,src:o.avatar})),title:i.a.createElement("small",null,s?s.slice(0,10)+"..."+s.slice(-10):"",this.state.ct_details.isKing?i.a.createElement(y.a,{color:"gold"},"VIP"):""),description:i.a.createElement(h.a,{count:4,value:this.state.ct_details.star?this.state.ct_details.star:0,disabled:!0})}))),i.a.createElement(d.a,{style:{textAlign:"center"}},i.a.createElement(m.a,{span:12},i.a.createElement(O.a,{title:rt[this.state.lang].account.title.balanceSero,value:this.state.balanceSero,precision:6}),i.a.createElement(v.a,{style:{marginTop:16},type:"primary",onClick:function(){t.showDeposit()}},rt[this.state.lang].account.button.deposit))))),i.a.createElement(p.a.Item,null,i.a.createElement(u.a,{loading:a},i.a.createElement(g.a,{title:i.a.createElement("h1",null,rt[this.state.lang].account.title.contract)}),i.a.createElement(d.a,{style:{textAlign:"center"}},i.a.createElement(m.a,{span:12},i.a.createElement(O.a,{title:rt[this.state.lang].account.title.estimatedTotal,value:new q.a(this.state.ct_details.amount?this.state.ct_details.amount:0).multipliedBy(this.state.ct_details.profitLevel?this.state.ct_details.profitLevel:0).toFixed(6),precision:6}),i.a.createElement(v.a,{style:{marginTop:16},type:"primary",onClick:function(){t.setState({showInvest:!0})}},rt[this.state.lang].account.button.invest))),i.a.createElement(d.a,{style:{textAlign:"center"}},i.a.createElement("p",null),i.a.createElement(m.a,{span:12},i.a.createElement(O.a,{title:rt[this.state.lang].account.title.staticIncome,value:this.state.ct_details.dayProfit,precision:6}),R?i.a.createElement(gt,{style:{marginTop:14},title:"",format:"HH:mm:ss",value:parseFloat(x),onFinish:function(){t.getDetail()}}):i.a.createElement(v.a,{style:{marginTop:16},type:"primary",disabled:R,onClick:function(){t.shareProfit()}},rt[this.state.lang].account.button.trigger)),i.a.createElement(m.a,{span:12},i.a.createElement(O.a,{title:rt[this.state.lang].account.title.withdraw,value:new q.a(this.state.ct_details.value?this.state.ct_details.value:0).toFixed(6),precision:6}),i.a.createElement(v.a,{style:{marginTop:16},disabled:new q.a(this.state.ct_details.value?this.state.ct_details.value:0).comparedTo(0)<1,type:"primary",onClick:function(){t.withdraw()}},rt[this.state.lang].account.button.withdraw))),P?i.a.createElement(d.a,{style:{textAlign:"center"}},i.a.createElement(m.a,{span:24,style:{textAlign:"center"}},i.a.createElement("div",null,C>0?i.a.createElement(k.WaterWave,{height:234,title:rt[this.state.lang].account.title.totalReturn,percent:C}):i.a.createElement(k.WaterWave,{height:234,title:rt[this.state.lang].account.title.totalReturn,percent:0}))),i.a.createElement(m.a,{span:24,style:{textAlign:"left"}},i.a.createElement(k.Pie,{hasLegend:!0,animate:!0,title:rt[this.state.lang].account.title.totalReturn,subTitle:rt[this.state.lang].account.title.totalReturn,total:function(){return i.a.createElement("span",{dangerouslySetInnerHTML:{__html:S.reduce((function(t,e){return e.y+t}),0)}})},data:S,valueFormat:function(t){return i.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})},height:248}))):"",i.a.createElement(r.a,{dashed:!0}),i.a.createElement(d.a,{style:{textAlign:"center"}},i.a.createElement(m.a,{span:12},i.a.createElement(O.a,{title:rt[this.state.lang].account.title.totalReturnDay,value:T,precision:6})),i.a.createElement(m.a,{span:12},i.a.createElement(O.a,{title:rt[this.state.lang].account.title.dayIncome,value:this.state.ct_details.dayProfit&&parseFloat(T)>0?new q.a(this.state.ct_details.dayProfit).multipliedBy(100).dividedBy(T).toFixed(2):"0",suffix:"%"}))),i.a.createElement(d.a,{style:{textAlign:"center"}},i.a.createElement("p",null),i.a.createElement(m.a,{span:12},i.a.createElement(O.a,{title:rt[this.state.lang].account.title.areaTotal,value:this.state.ct_details.largeAreaTotal,precision:6})),i.a.createElement(m.a,{span:12},i.a.createElement(O.a,{title:rt[this.state.lang].account.title.areaOtherTotal,value:new q.a(this.state.ct_details.achievement).minus(new q.a(this.state.ct_details.largeAreaTotal)).toFixed(6),precision:6}))))),i.a.createElement(p.a.Item,null,i.a.createElement(u.a,{loading:a},i.a.createElement(g.a,{title:i.a.createElement("h1",null,rt[this.state.lang].project.title)},i.a.createElement(g.a.Item,{label:rt[this.state.lang].project.contractAddress},i.a.createElement("small",null,pt))),i.a.createElement(r.a,{dashed:!0}),i.a.createElement(g.a,{title:rt[this.state.lang].account.title.investDetail},i.a.createElement(g.a.Item,{label:rt[this.state.lang].account.title.id},this.state.ct_details.id),i.a.createElement(g.a.Item,{label:rt[this.state.lang].account.title.referId},this.state.ct_details.referId),i.a.createElement(g.a.Item,{label:rt[this.state.lang].account.title.areaId},this.state.ct_details.largeAreaId),i.a.createElement(g.a.Item,{label:rt[this.state.lang].account.title.totalInvest},this.state.ct_details.amount),i.a.createElement(g.a.Item,{label:rt[this.state.lang].account.title.profitLevel},this.state.ct_details.profitLevel),i.a.createElement(g.a.Item,{label:rt[this.state.lang].account.title.latestTime},function(t){if(t&&t>0){var e=new Date(1e3*t);return Et(e.getMonth()+1)+"/"+Et(e.getDate())+" "+Et(e.getHours())+":"+Et(e.getMinutes())}return""}(I)))))))),i.a.createElement(z,{visible:n,selectAccount:this.selectAccount,hiddenAccount:this.hiddenAccount}),i.a.createElement(A.a,{title:rt[this.state.lang].account.modal.deposit.title,visible:this.state.showDeposit,onCancel:this.handleCancel,footer:null,getContainer:!1},i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("canvas",{id:"qrImg"}),i.a.createElement("p",{style:{wordBreak:"normal",whiteSpace:"pre-wrap",wordWrap:"break-word"}},i.a.createElement("small",null,this.state.currentAccount.MainPKr)),i.a.createElement(v.a,{className:"copyTxt",onClick:function(){X()(t.state.currentAccount.MainPKr),w.a.success("Copy to clipboard successfully")}},rt[this.state.lang].account.modal.deposit.copy))),i.a.createElement(bt,{wrappedComponentRef:this.saveInvestFormRef,visible:this.state.showInvest,onCancel:this.handleInvestCancel,onCreate:this.handleInvestCreate,sero:this.state.balanceSero,calcuPrincipalProfit:this.calcuPrincipalProfit,rate:this.state.ct_rate,lang:this.state.lang,totalAmount:this.state.ct_details.amount,referId:this.state.ct_details.referId}))}}]),e}(n.Component);function Et(t){return t=t<10?"0"+t:t}var It=function(t){function e(){var t;return Object(S.a)(this,e),(t=Object(x.a)(this,Object(T.a)(e).call(this))).changeLocale=function(e){var a=e.target.value;t.setState({locale:a}),"en"===a.locale?localStorage.setItem("lang","en_US"):"zh-cn"===a.locale&&localStorage.setItem("lang","zh_CN")},t.state={locale:et.a},t}return Object(C.a)(e,t),Object(P.a)(e,[{key:"componentWillMount",value:function(){var t=localStorage.getItem("lang"),e=et.a;t?"zh_CN"===t?e=et.a:"en_US"===t&&(e=tt.a):(e=et.a,localStorage.setItem("lang","zh_CN")),this.setState({locale:e})}},{key:"render",value:function(){var t=this.state.locale;return i.a.createElement("div",{className:"App"},i.a.createElement(R.a,{className:"layout"},i.a.createElement(ut,{className:"header"},i.a.createElement("div",{className:"logo"},i.a.createElement("img",{src:ct.a})),i.a.createElement("div",{className:"change-locale"},i.a.createElement(l.a.Group,{value:t,onChange:this.changeLocale},i.a.createElement(l.a.Button,{key:"en",value:tt.a},"English"),i.a.createElement(l.a.Button,{key:"cn",value:et.a},"\u4e2d\u6587")))),i.a.createElement(c.a,{locale:t},i.a.createElement(At,{key:t?t.locale:"en"})),i.a.createElement(mt,{style:{textAlign:"center"}})))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(It,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[294,1,2]]]);
//# sourceMappingURL=main.0618ad3b.chunk.js.map